<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Promise.allSettled</title>
</head>
<body>
  <script>
    // 이터러블로 전달 받은 프로미스 인수 모두가 settled(비동기 처리가 수행된 상태)
    // 가 되면 결과를 배열로 반환한다.

    Promise.allSettled([
      new Promise(resolve => setTimeout(() => resolve(1), 2000)),
      new Promise((_, reject) => setTimeout(() => reject(new Error('Error')), 1000))
    ]).then(console.log);
    // Array(2)
    // 0:{status: 'fulfilled', value: 1}
    // 1:{status: 'rejected', reason: Error: Error at http://localhost:63342/javascript-deepdive/ex45-promise/promise-all-settled.htm…}

    // 처리결과를 나타내는 객체는 다음과 같다
    // fulfilled 상태 : 비동기 처리 상태를 나타내는 status 프로퍼티와 처리 결과를 나타내는 value 프로퍼티를 갖는다.
    // fulfilled 상태 : 비동기 처리 상태를 나타내는 status 프로퍼티와 에러를 나타내는 reason 프로퍼티를 갖는다.
  </script>
</body>
</html>